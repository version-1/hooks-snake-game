(this["webpackJsonphooks-snake-game"]=this["webpackJsonphooks-snake-game"]||[]).push([[0],{12:function(e,t,n){},13:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(6),i=n.n(r),o=(n(12),n(4)),l=n(1),u=function(e){var t=e.length,n=e.difficulty,a=void 0===n?3:n,r=e.onChangeDifficulty,i=a<5?"":"is-hidden",o=a>1?"":"is-hidden";return c.a.createElement("div",{className:"navigation"},c.a.createElement("div",{className:"navigation-item"},c.a.createElement("span",{className:"navigation-label"},"Length: "),c.a.createElement("div",{className:"navigation-item-number-container"},c.a.createElement("div",{className:"num-board"},t))),c.a.createElement("div",{className:"navigation-item"},c.a.createElement("span",{className:"navigation-label"},"Difficulty: "),c.a.createElement("div",{className:"navigation-item-number-container"},c.a.createElement("span",{className:"num-board"},a),c.a.createElement("div",{className:"difficulty-button-container"},c.a.createElement("div",{className:"difficulty-button difficulty-up ".concat(i),onClick:function(){return r(a+1)}}),c.a.createElement("div",{className:"difficulty-button difficulty-down ".concat(o),onClick:function(){return r(a-1)}})))))},s=function(e){var t=e.fields;return c.a.createElement("div",{className:"field"},t.map((function(e){return e.map((function(e){return c.a.createElement("div",{className:"dots ".concat(e)})}))})))},m=function(e){var t=e.status,n=e.onStart,a=e.onStop,r=e.onRestart;return c.a.createElement("div",{className:"button"},"gameover"===t&&c.a.createElement("button",{className:"btn btn-gameover",onClick:r},"gameover"),"init"===t&&c.a.createElement("button",{className:"btn btn-init",onClick:n},"start"),"suspended"===t&&c.a.createElement("button",{className:"btn btn-suspended",onClick:n},"start"),"playing"===t&&c.a.createElement("button",{className:"btn btn-playing",onClick:a},"stop"))},f=function(e){var t=e.onChange;return c.a.createElement("div",{className:"manipulation-panel"},c.a.createElement("button",{className:"manipulation-btn btn btn-left",onClick:function(){return t("left")}},"\u2190"),c.a.createElement("div",null,c.a.createElement("button",{className:"manipulation-btn btn btn-up",onClick:function(){return t("up")}},"\u2191"),c.a.createElement("button",{className:"manipulation-btn btn btn-down",onClick:function(){return t("down")}},"\u2193")),c.a.createElement("button",{className:"manipulation-btn btn btn-right",onClick:function(){return t("right")}},"\u2192"))},d=function(e,t){for(var n=function(){var n=Math.floor(Math.random()*(e-1-1))+1,a=Math.floor(Math.random()*(e-1-1))+1;if(!t.some((function(e){return e.x===n&&e.y===a})))return{v:{x:n,y:a}}};;){var a=n();if("object"===typeof a)return a.v}},b=function(e,t){for(var n=[],a=0;a<e;a++){var c=new Array(e).fill("");n.push(c)}n[t.y][t.x]="snake";var r=d(e,[t]);return n[r.y][r.x]="food",n},v={x:17,y:17},p=b(35,v),g=[1e3,500,100,50,10],h=Object.freeze({init:"init",playing:"playing",suspended:"suspended",gameover:"gameover"}),y=Object.freeze({up:"up",right:"right",left:"left",down:"down"}),E=Object.freeze({37:y.left,38:y.up,39:y.right,40:y.down}),N=Object.freeze({up:"down",right:"left",left:"right",down:"up"}),k=Object.freeze({up:{x:0,y:-1},right:{x:1,y:0},left:{x:-1,y:0},down:{x:0,y:1}}),j=void 0,O=function(){j&&clearInterval(j)};var w=function(){var e=Object(a.useState)(p),t=Object(l.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)([]),w=Object(l.a)(i,2),x=w[0],C=w[1],S=Object(a.useState)(h.init),z=Object(l.a)(S,2),M=z[0],I=z[1],D=Object(a.useState)(y.up),L=Object(l.a)(D,2),A=L[0],B=L[1],J=Object(a.useState)(3),R=Object(l.a)(J,2),W=R[0],G=R[1],$=Object(a.useState)(0),q=Object(l.a)($,2),F=q[0],H=q[1];Object(a.useEffect)((function(){return C([v]),j=setInterval((function(){H((function(e){return e+1}))}),g[W-1]),O}),[W]),Object(a.useEffect)((function(){0!==x.length&&M===h.playing&&(Q()||(O(),I(h.gameover)))}),[F]);var K=Object(a.useCallback)((function(e){M===h.playing&&N[A]!==e&&B(e)}),[A,M]),P=Object(a.useCallback)((function(e){M===h.init&&(e<1||e>g.length||G(e))}),[M,W]);Object(a.useEffect)((function(){var e=function(e){var t=E[e.keyCode];t&&K(t)};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}),[K]);var Q=function(){var e,t,a=x[0],c=a.x,i=a.y,l=k[A],u={x:c+l.x,y:i+l.y};if(e=n.length,(t=u).y<0||t.x<0||t.y>e-1||t.x>e-1||function(e,t){return"snake"===e[t.y][t.x]}(n,u))return!1;var s=Object(o.a)(x);if("food"!==n[u.y][u.x]){var m=s.pop();n[m.y][m.x]=""}else{var f=d(n.length,[].concat(Object(o.a)(s),[u]));n[f.y][f.x]="food"}return n[u.y][u.x]="snake",s.unshift(u),C(s),r(n),!0};return c.a.createElement("div",{className:"App"},c.a.createElement("header",{className:"header"},c.a.createElement("div",{className:"title-container"},c.a.createElement("h1",{className:"title"},"Snake Game")),c.a.createElement(u,{length:x.length,difficulty:W,onChangeDifficulty:P})),c.a.createElement("main",{className:"main"},c.a.createElement(s,{fields:n})),c.a.createElement("footer",{className:"footer"},c.a.createElement(m,{status:M,onStop:function(){return I(h.suspended)},onStart:function(){return I(h.playing)},onRestart:function(){j=setInterval((function(){H((function(e){return e+1}))}),100),I(h.init),C([v]),B(y.up),r(b(n.length,v))}}),c.a.createElement(f,{onChange:K})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},7:function(e,t,n){e.exports=n(13)}},[[7,1,2]]]);
//# sourceMappingURL=main.e4bf3e22.chunk.js.map