(this["webpackJsonphooks-snake-game"]=this["webpackJsonphooks-snake-game"]||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(7),r=n.n(i),o=(n(13),n(3)),u=n(1),l=n(5),s=function(e){return c.a.createElement("div",{className:"dots ".concat(e.value)})},f=function(e){var t=e.fields;return c.a.createElement("div",{className:"field"},t.map((function(e,t){return e.map((function(e,n){return c.a.createElement(s,{key:"".concat(t,"-").concat(n),value:e})}))})))},m=function(e){var t=e.state,n=e.canUp,a=e.canDown,i=e.onChangeDifficulty,r=t.length,o=t.difficulty,u=n?"":"is-hidden",l=a?"":"is-hidden";return c.a.createElement("div",{className:"navigation"},c.a.createElement("div",{className:"navigation-item"},c.a.createElement("span",{className:"navigation-label"},"Length: "),c.a.createElement("div",{className:"navigation-item-number-container"},c.a.createElement("div",{className:"num-board"},r))),c.a.createElement("div",{className:"navigation-item"},c.a.createElement("span",{className:"navigation-label"},"Difficulty: "),c.a.createElement("div",{className:"navigation-item-number-container"},c.a.createElement("span",{className:"num-board"},o),c.a.createElement("div",{className:"difficulty-button-container"},c.a.createElement("div",{className:"difficulty-button difficulty-up ".concat(u),onClick:function(){return i(1)}}),c.a.createElement("div",{className:"difficulty-button difficulty-down ".concat(l),onClick:function(){return i(-1)}})))))},d={init:"START",playing:"STOP",gameover:"GAME OVER",suspended:"START"},v=function(e){var t=e.status,n=e.onStart,a=e.onStop,i=e.onRestart;return c.a.createElement("div",{className:"button-start"},c.a.createElement("button",{className:"btn btn-".concat(t),tabIndex:1,onClick:function(){({init:n,playing:a,gameover:i,suspended:n})[t]()}},d[t]))},b=function(e){var t=e.handleChangeDirection;return c.a.createElement("div",{className:"move-button"},c.a.createElement("button",{className:"btn btn-move btn-left",onClick:function(){return t("left")}},"\u2190"),c.a.createElement("div",{className:"btn-up-down"},c.a.createElement("button",{className:"btn btn-move btn-up",onClick:function(){return t("up")}},"\u2191"),c.a.createElement("button",{className:"btn btn-move btn-down",onClick:function(){return t("down")}},"\u2193")),c.a.createElement("button",{className:"btn btn-move btn-right",onClick:function(){return t("right")}},"\u2192"))},y=(n(14),[500,300,100,50,10]),h="init",E="playing",p="suspended",g="gameover",N={up:"up",down:"down",right:"right",left:"left"},O={up:"down",down:"up",right:"left",left:"right"},j="",k="snake",w="food",x={up:function(e){return{x:e.x,y:e.y-1}},down:function(e){return{x:e.x,y:e.y+1}},right:function(e){return{x:e.x+1,y:e.y}},left:function(e){return{x:e.x-1,y:e.y}}},C={37:N.left,38:N.up,39:N.right,40:N.down},S={x:Math.round(17.5)-1,y:Math.round(17.5)-1},M=function(e,t){return Math.floor(Math.random()*(t+1-e))+e},A=function(e,t){var n=function(e){for(var t=function(){var t={x:M(1,33),y:M(1,33)};if(e.every((function(e){return t.x!==e.x||t.y!==e.y})))return{v:t}};;){var n=t();if("object"===typeof n)return n.v}}(e);return t[n.y][n.x]=w,n},D=function(){for(var e=[],t=0;t<35;t++){var n=new Array(35).fill(j);e.push(n)}var a=function(e){return e[S.y][S.x]=k,S}(e);return A([a],e),e},I=function(){return{position:S,history:[],length:1,difficulty:3,fields:D(),tickId:null,status:h,direction:N.up}},R=function(e,t){var n=t.length,a=t.history,c=t.fields,i=t.position,r=x[e](i),o=[i].concat(Object(l.a)(a)).slice(0,n);if(!function(e){return e.y<0||e.x<0||e.y>34||e.x>34}(r)&&!function(e,t){return e[t.y][t.x]===k}(c,r)){var s=Object(l.a)(c),f=n;s[r.y][r.x]===w&&(A([r].concat(Object(l.a)(o)),s),f=n+1);var m=o.slice(-1)[0];return s[r.y][r.x]=k,s[m.y][m.x]=j,Object(u.a)({},t,{status:E,history:o,length:f,position:r,fields:s})}return Object(u.a)({},t,{status:g,tickId:null})},T=null,L=function(){var e=Object(a.useState)(I()),t=Object(o.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)(0),l=Object(o.a)(r,2),s=l[0],d=l[1],g=Object(a.useState)(),j=Object(o.a)(g,2),k=j[0],w=j[1],x=Object(a.useState)(N.up),S=Object(o.a)(x,2),M=S[0],A=S[1],D=n.status,L=n.fields,B=n.difficulty,G=Object(a.useMemo)((function(){return D===h}),[D]),J=Object(a.useMemo)((function(){return B-1<y.length-1}),[B]),U=Object(a.useMemo)((function(){return B-1>0}),[B]);Object(a.useEffect)((function(){var e=setInterval((function(){d((function(e){return e+1}))}),y[B-1]);return w(e),function(){clearInterval(e)}}),[B]),Object(a.useEffect)((function(){if(n.status===E){var e=R(M,n);i(e)}}),[k,M,s,i]);var W=Object(a.useCallback)((function(e){N[e]&&D===E&&O[M]!==e&&M!==e&&A(e)}),[M,D,A]);return Object(a.useEffect)((function(){T&&document.removeEventListener("keydown",T),T=function(e){var t=C[e.keyCode];W(t)},document.addEventListener("keydown",T)}),[W]),c.a.createElement("div",{className:"App"},c.a.createElement("header",{className:"header"},c.a.createElement("div",{className:"title-container"},c.a.createElement("h1",{className:"title"},"SNAKE GAME")),c.a.createElement(m,{state:n,editable:G,canUp:J,canDown:U,onChangeDifficulty:function(e){G&&i((function(t){return y[t.difficulty-1+e]?Object(u.a)({},t,{difficulty:t.difficulty+e}):t}))}})),c.a.createElement("main",{className:"main"},c.a.createElement(f,{fields:L})),c.a.createElement("footer",{className:"footer"},c.a.createElement(v,{status:D,onStart:function(){i((function(e){return Object(u.a)({},e,{status:E})}))},onRestart:function(){A(N.up),i(I())},onStop:function(){i((function(e){return Object(u.a)({},e,{status:p})}))}}),c.a.createElement(b,{handleChangeDirection:W})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(L,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,t,n){e.exports=n(15)}},[[8,1,2]]]);
//# sourceMappingURL=main.e8b07b26.chunk.js.map